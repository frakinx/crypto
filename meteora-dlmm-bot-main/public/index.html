<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meteora DLMM Pools</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üåä Meteora DLMM Pools</h1>
      <p class="subtitle">–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—É–ª–æ–≤ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ Meteora</p>
      <div id="autoRefreshInfo" class="auto-refresh-info">–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã</div>
    </header>

    <!-- Tabs Navigation -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="pools">üìä –ü—É–ª—ã</button>
      <button class="tab-btn" data-tab="wallet">üëõ –ö–æ—à–µ–ª–µ–∫ & –ü—Ä–æ–∫—Å–∏</button>
      <button class="tab-btn" data-tab="admin">‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</button>
    </div>

    <!-- Pools Tab -->
    <div id="poolsTab" class="tab-content active">

    <div class="controls">
      <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—É–ª–∞, —Ç–æ–∫–µ–Ω—É..." />
      <select id="sortSelect">
        <option value="liquidity-desc">–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (—É–±—ã–≤–∞–Ω–∏–µ)</option>
        <option value="liquidity-asc">–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
        <option value="volume-desc">–û–±—ä–µ–º 24—á (—É–±—ã–≤–∞–Ω–∏–µ)</option>
        <option value="volume-asc">–û–±—ä–µ–º 24—á (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
        <option value="fees-desc">–ö–æ–º–∏—Å—Å–∏–∏ 24—á (—É–±—ã–≤–∞–Ω–∏–µ)</option>
        <option value="fees-asc">–ö–æ–º–∏—Å—Å–∏–∏ 24—á (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
        <option value="apr-desc">APR (—É–±—ã–≤–∞–Ω–∏–µ)</option>
        <option value="apr-asc">APR (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
      </select>
      <button id="filterBtn" class="filter-btn">üîç –§–∏–ª—å—Ç—Ä</button>
      <button id="refreshBtn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
    </div>

    <div class="stats">
      <div class="stat-card">
        <div class="stat-label">–í—Å–µ–≥–æ –ø—É–ª–æ–≤</div>
        <div class="stat-value" id="totalPools">-</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">–û–±—â–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å</div>
        <div class="stat-value" id="totalLiquidity">-</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">–û–±—ä–µ–º –∑–∞ 24—á</div>
        <div class="stat-value" id="totalVolume">-</div>
      </div>
    </div>

    <div id="loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
    <div id="error" class="error" style="display: none;"></div>
    
    <div id="poolsContainer" class="pools-container"></div>
    
    <div id="loadMoreContainer" style="text-align: center; margin-top: 30px; display: none;">
      <button id="loadMoreBtn" class="load-more-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</button>
      <div id="poolsInfo" class="pools-info"></div>
    </div>
    </div>

    <!-- Wallet & Proxy Tab -->
    <!-- Admin Tab -->
    <div id="adminTab" class="tab-content">
      <div class="admin-section">
        <h2>‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π</h2>
        
        <div class="admin-pools-config">
          <h3>üèä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–ª–æ–≤</h3>
          <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.9em; margin-bottom: 15px;">
            –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É–ª–∞. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –≤ –ø—É–ª–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–¥–µ—Å—å. 
            –ö–∞–∂–¥—ã–π –ø—É–ª –∏–º–µ–µ—Ç —Å–≤–æ–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–∑–∏—Ü–∏–π.
          </p>
          <div id="poolsConfigList" class="pools-config-list"></div>
        </div>

        <div class="admin-positions">
          <h3>üìä –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏</h3>
          <div id="positionsList" class="positions-list"></div>
        </div>

        <div class="admin-stats">
          <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π</div>
              <div class="stat-value" id="activePositionsCount">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">–ó–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π</div>
              <div class="stat-value" id="closedPositionsCount">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">–ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏</div>
              <div class="stat-value" id="totalFees">$0.00</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="walletTab" class="tab-content">
      <div class="wallet-section">
        <h2>üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞</h2>
        <div class="wallet-card">
          <div class="wallet-status" id="walletStatus">
            <div class="status-indicator disconnected"></div>
            <span id="walletStatusText">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</span>
          </div>
          <div id="walletInfo" class="wallet-info" style="display: none;">
            <div class="wallet-address">
              <strong>–ê–¥—Ä–µ—Å:</strong> <span id="walletAddress">-</span>
              <button id="copyAddressBtn" class="copy-btn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å">üìã</button>
            </div>
            <div class="wallet-balance">
              <strong>–ë–∞–ª–∞–Ω—Å SOL:</strong> <span id="walletBalance">-</span>
              <button id="refreshBalanceBtn" class="refresh-balance-btn" title="–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å" style="margin-left: 8px; padding: 4px 8px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.85em; display: none;">üîÑ</button>
            </div>
            <div class="wallet-hint" style="font-size: 0.85em; color: #666; margin-top: 8px; padding: 8px; background: #f0f0f0; border-radius: 4px;">
              üí° <strong>–°–æ–≤–µ—Ç:</strong> –ü—É–±–ª–∏—á–Ω—ã–π RPC Solana –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º. –î–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π RPC endpoint (Helius, QuickNode, Triton) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö RPC –Ω–∏–∂–µ.
            </div>
          </div>
          <div class="wallet-actions">
            <button id="connectPhantomBtn" class="wallet-btn phantom-btn">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23AB9FF2'%3E%3Cpath d='M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.5 8.25h-2.25v-1.5h2.25v1.5zm-9 0H5.25v-1.5H7.5v1.5zm11.25 0h-2.25v-1.5h2.25v1.5zm-9 0H5.25v-1.5h2.25v1.5z'/%3E%3C/svg%3E" alt="Phantom" class="wallet-icon">
              –ü–æ–¥–∫–ª—é—á–∏—Ç—å Phantom
            </button>
            <button id="disconnectWalletBtn" class="wallet-btn disconnect-btn" style="display: none;">
              –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫
            </button>
          </div>
          <div id="walletError" class="wallet-error" style="display: none;"></div>
        </div>
      </div>

      <div class="wallet-section">
        <h2>üîÅ Swap (Jupiter v6)</h2>
        <div class="wallet-card">
          <div class="token-selector">
            <label>From:</label>
            <div class="token-quick">
              <button type="button" class="token-chip" data-role="input" data-symbol="SOL">SOL</button>
              <button type="button" class="token-chip" data-role="input" data-symbol="USDC">USDC</button>
              <button type="button" class="token-chip" data-role="input" data-symbol="USDT">USDT</button>
            </div>
            <input type="text" id="inputTokenSearch" placeholder="Search token name or symbol..." autocomplete="off">
            <div id="inputTokenDropdown" class="token-dropdown" style="display: none;"></div>
            <input type="hidden" id="inputMint">
            <div id="inputTokenInfo" class="token-info"></div>
          </div>
          <div class="token-selector">
            <label>To:</label>
            <div class="token-quick">
              <button type="button" class="token-chip" data-role="output" data-symbol="SOL">SOL</button>
              <button type="button" class="token-chip" data-role="output" data-symbol="USDC">USDC</button>
              <button type="button" class="token-chip" data-role="output" data-symbol="USDT">USDT</button>
            </div>
            <input type="text" id="outputTokenSearch" placeholder="Search token name or symbol..." autocomplete="off">
            <div id="outputTokenDropdown" class="token-dropdown" style="display: none;"></div>
            <input type="hidden" id="outputMint">
            <div id="outputTokenInfo" class="token-info"></div>
          </div>
          <div class="form-group">
            <label for="swapAmount">Amount (–≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö —Ç–æ–∫–µ–Ω–∞):</label>
            <input type="number" id="swapAmount" step="0.000000001" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1 –¥–ª—è 1 SOL" />
            <small id="swapAmountHint">–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –¥–ª—è 1 SOL, 100 –¥–ª—è 100 USDC)</small>
          </div>
          
          <!-- –ë–ª–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–≤–∞–ø–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ -->
          <div id="swapPreviewResult" style="display: none; margin-top: 15px; padding: 15px; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 8px;">
            <div style="color: #1a1a2e; font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
              <span>üí±</span>
              <span>–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–≤–∞–ø–∞</span>
            </div>
            <div style="color: #333; font-size: 0.95em;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <span style="color: #555; font-weight: 500;">–í—ã –æ—Ç–¥–∞–µ—Ç–µ:</span>
                <span id="swapPreviewInput" style="color: #1a1a2e; font-weight: 600;">-</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <span style="color: #555; font-weight: 500;">–í—ã –ø–æ–ª—É—á–∏—Ç–µ:</span>
                <span id="swapPreviewOutput" style="color: #2e7d32; font-weight: 600; font-size: 1.1em;">-</span>
              </div>
              <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(0, 0, 0, 0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                  <span style="color: #666; font-size: 0.85em;">–ö—É—Ä—Å –æ–±–º–µ–Ω–∞:</span>
                  <span id="swapPreviewRate" style="color: #333; font-size: 0.85em; font-weight: 500;">-</span>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="swapSlippage">Slippage (bps):</label>
            <input type="number" id="swapSlippage" placeholder="100 = 1%" value="100" />
          </div>
          <div class="form-actions">
            <button type="button" id="jupGetQuoteBtn" class="save-btn">–ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ç–∏—Ä–æ–≤–∫—É</button>
            <button type="button" id="jupSwapBtn" class="test-btn">–°–¥–µ–ª–∞—Ç—å —Å–≤–∞–ø</button>
          </div>
          <div id="swap-status" class="rpc-status" style="display: none;">
            <div class="status-message"></div>
          </div>
          <div id="jupQuoteResult" class="rpc-status" style="display: none;">
            <div class="status-message"></div>
          </div>
          <div id="jupSwapResult" class="rpc-status" style="display: none;">
            <div class="status-message"></div>
          </div>
        </div>
      </div>

      <div class="proxy-section">
        <h2>üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏</h2>
        <div class="proxy-card">
          <form id="proxyForm">
            <div class="form-group">
              <label for="proxyEnabled">
                <input type="checkbox" id="proxyEnabled" />
                –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏
              </label>
            </div>
            <div class="form-group">
              <label for="proxyType">–¢–∏–ø –ø—Ä–æ–∫—Å–∏:</label>
              <select id="proxyType" disabled>
                <option value="http">HTTP</option>
                <option value="https">HTTPS</option>
                <option value="socks4">SOCKS4</option>
                <option value="socks5">SOCKS5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="proxyHost">–•–æ—Å—Ç:</label>
              <input type="text" id="proxyHost" placeholder="proxy.example.com" disabled />
            </div>
            <div class="form-group">
              <label for="proxyPort">–ü–æ—Ä—Ç:</label>
              <input type="number" id="proxyPort" placeholder="8080" disabled />
            </div>
            <div class="form-group">
              <label for="proxyUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
              <input type="text" id="proxyUsername" placeholder="username" disabled />
            </div>
            <div class="form-group">
              <label for="proxyPassword">–ü–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
              <input type="password" id="proxyPassword" placeholder="password" disabled />
            </div>
            <div class="form-actions">
              <button type="submit" class="save-btn" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
              <button type="button" id="testProxyBtn" class="test-btn" disabled>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏</button>
            </div>
          </form>
          <div id="proxyStatus" class="proxy-status" style="display: none;">
            <div class="status-message"></div>
          </div>
        </div>
      </div>

      <!-- RPC settings removed: using fixed Helius RPC endpoint in code -->
    </div>
  </div>

  <!-- Filter Modal -->
  <div id="filterModal" class="filter-modal">
    <div class="filter-modal-content">
      <div class="filter-modal-header">
        <h2>Filter by</h2>
        <button class="filter-modal-close" id="closeFilterBtn">&times;</button>
      </div>
      
      <div class="filter-modal-body">
        <!-- Token Details -->
        <div class="filter-section">
          <h3>Token Details</h3>
          <div class="filter-category">
            <div class="filter-checkbox">
              <label>
                <input type="checkbox" id="filterVerified" />
                <span>Verified</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Bin Step Range -->
        <div class="filter-section">
          <h3>Bin step of the pool</h3>
          <div class="filter-range">
            <div class="filter-range-input">
              <label>Min</label>
              <input type="number" id="filterBinStepMin" placeholder="0" step="1" />
            </div>
            <div class="filter-range-input">
              <label>Max</label>
              <input type="number" id="filterBinStepMax" placeholder="‚àû" step="1" />
            </div>
          </div>
        </div>

        <!-- Liquidity Range -->
        <div class="filter-section">
          <h3>Liquidity by range</h3>
          <div class="filter-range">
            <div class="filter-range-input">
              <label>Min ($)</label>
              <input type="number" id="filterLiquidityMin" placeholder="0" step="0.01" />
            </div>
            <div class="filter-range-input">
              <label>Max ($)</label>
              <input type="number" id="filterLiquidityMax" placeholder="‚àû" step="0.01" />
            </div>
          </div>
        </div>

        <!-- Volume by Period -->
        <div class="filter-section">
          <h3>Volume by period</h3>
          <div class="filter-period">
            <select id="filterVolumePeriod" class="filter-period-select">
              <option value="min_30">30m</option>
              <option value="hour_1">1h</option>
              <option value="hour_2">2h</option>
              <option value="hour_4">4h</option>
              <option value="hour_12">12h</option>
              <option value="hour_24">24h</option>
            </select>
            <input type="number" id="filterVolumePeriodMin" placeholder="‚â• $" step="0.01" class="filter-period-input" />
          </div>
        </div>

        <!-- Fees by Period -->
        <div class="filter-section">
          <h3>Fees by period</h3>
          <div class="filter-period">
            <select id="filterFeesPeriod" class="filter-period-select">
              <option value="min_30">30m</option>
              <option value="hour_1">1h</option>
              <option value="hour_2">2h</option>
              <option value="hour_4">4h</option>
              <option value="hour_12">12h</option>
              <option value="hour_24">24h</option>
            </select>
            <input type="number" id="filterFeesPeriodMin" placeholder="‚â• $" step="0.01" class="filter-period-input" />
          </div>
        </div>

        <!-- Fees 24h Range -->
        <div class="filter-section">
          <h3>Fees 24h by range</h3>
          <div class="filter-range">
            <div class="filter-range-input">
              <label>Min ($)</label>
              <input type="number" id="filterFees24hMin" placeholder="0" step="0.01" />
            </div>
            <div class="filter-range-input">
              <label>Max ($)</label>
              <input type="number" id="filterFees24hMax" placeholder="‚àû" step="0.01" />
            </div>
          </div>
        </div>

        <!-- Fee/TVL % by Period -->
        <div class="filter-section">
          <h3>Fee/TVL % by period</h3>
          <div class="filter-period">
            <select id="filterFeeTvlPeriod" class="filter-period-select">
              <option value="min_30">30m</option>
              <option value="hour_1">1h</option>
              <option value="hour_2">2h</option>
              <option value="hour_4">4h</option>
              <option value="hour_12">12h</option>
              <option value="hour_24">24h</option>
            </select>
            <input type="number" id="filterFeeTvlPeriodMin" placeholder="‚â• %" step="0.01" class="filter-period-input" />
          </div>
        </div>

        <!-- APR Range -->
        <div class="filter-section">
          <h3>APR by range</h3>
          <div class="filter-range">
            <div class="filter-range-input">
              <label>Min (%)</label>
              <input type="number" id="filterAprMin" placeholder="0" step="0.01" />
            </div>
            <div class="filter-range-input">
              <label>Max (%)</label>
              <input type="number" id="filterAprMax" placeholder="‚àû" step="0.01" />
            </div>
          </div>
        </div>

        <!-- Launchpad -->
        <div class="filter-section">
          <div class="filter-section-header">
            <h3>Launchpad</h3>
            <button type="button" class="filter-select-all" id="selectAllLaunchpads">Select all</button>
          </div>
          <div style="font-size: 0.85em; color: rgba(255, 200, 100, 0.9); margin-bottom: 10px; padding: 8px; background: rgba(255, 200, 100, 0.1); border-radius: 4px; border-left: 3px solid rgba(255, 200, 100, 0.5);">
            ‚ö†Ô∏è <strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ API:</strong> API Meteora —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ launchpad —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—É–ª–æ–≤ (–æ–±—ã—á–Ω–æ 0-2 –ø—É–ª–∞). –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø—É–ª–æ–≤ –Ω–µ –∏–º–µ—é—Ç –ø–æ–ª—è launchpad –≤ –¥–∞–Ω–Ω—ã—Ö API, –ø–æ—ç—Ç–æ–º—É —Ñ–∏–ª—å—Ç—Ä –ø–æ launchpad –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∞–∂–µ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö launchpad.
          </div>
          <div class="filter-launchpad-list" id="launchpadList">
            <!-- Launchpad options will be populated dynamically -->
          </div>
        </div>

        <!-- Pool Features -->
        <div class="filter-section">
          <h3>Pool Features</h3>
          <div class="filter-category">
            <div class="filter-checkbox">
              <label>
                <input type="checkbox" id="filterLfg" />
                <span>LFG tag</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="filter-modal-footer">
        <button class="filter-btn-reset" id="resetFilterBtn">
          <span>‚Üª</span> Reset
        </button>
        <button class="filter-btn-save" id="saveFilterBtn">Save</button>
      </div>
    </div>
  </div>

  <!-- Pool Config Edit Modal -->
  <div id="poolConfigModal" class="pool-modal">
    <div class="pool-modal-content">
      <div class="pool-modal-header">
        <h2 id="poolConfigModalTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–ª–∞</h2>
        <button class="pool-modal-close" id="closePoolConfigModalBtn">&times;</button>
      </div>
      <div class="pool-modal-body">
        <div id="poolConfigModalContent">
          <div class="pool-config-form-container">
            <div class="form-group">
              <label style="color: white;">–ê–¥—Ä–µ—Å –ø—É–ª–∞:</label>
              <input type="text" id="editPoolAddress" readonly style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white; font-family: monospace;" />
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Stop Loss (%):</label>
                <input type="number" id="editStopLossPercent" step="0.1" min="-10" max="0" value="-2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Take Profit (%):</label>
                <input type="number" id="editTakeProfitPercent" step="0.1" min="0" max="100" value="2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">–ü—Ä–æ–≤–µ—Ä–∫–∞ Fee (%):</label>
                <input type="number" id="editFeeCheckPercent" step="0.1" min="0" max="100" value="50" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; display: flex; align-items: center; gap: 8px;">
                  <input type="checkbox" id="editMirrorSwapEnabled" checked style="width: auto; margin: 0;" />
                  Mirror Swap
                </label>
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Hedge Amount (%):</label>
                <input type="number" id="editHedgeAmountPercent" step="1" min="0" max="100" value="50" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Slippage (bps):</label>
                <input type="number" id="editSlippageBps" step="1" min="0" max="10000" value="100" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; display: flex; align-items: center; gap: 8px;">
                  <input type="checkbox" id="editAveragePriceCloseEnabled" checked style="width: auto; margin: 0;" />
                  –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–µ
                </label>
              </div>
              <div class="form-group">
                <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç —Å—Ä–µ–¥–Ω–µ–π (%):</label>
                <input type="number" id="editAveragePriceDeviation" step="0.1" min="0" max="10" value="2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
              </div>
            </div>
            <div class="form-actions" style="margin-top: 20px;">
              <button type="button" id="savePoolConfigBtn" class="save-btn" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
              </button>
            </div>
            <div id="poolConfigModalStatus" class="rpc-status" style="display: none; margin-top: 15px;">
              <div class="status-message"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pair Pools Modal -->
  <div id="pairPoolsModal" class="pool-modal">
    <div class="pool-modal-content">
      <div class="pool-modal-header">
        <h2 id="pairPoolsModalTitle">–ü—É–ª—ã –¥–ª—è –ø–∞—Ä—ã</h2>
        <button class="pool-modal-close" id="closePairPoolsModalBtn">&times;</button>
      </div>
      <div class="pool-modal-body">
        <div id="pairPoolsModalLoading" class="pool-modal-loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        <div id="pairPoolsModalContent" style="display: none;">
          <div style="margin-bottom: 20px; color: white; font-size: 1.1em; font-weight: 600;">
            <span id="pairPoolsCount">–ù–∞–π–¥–µ–Ω–æ –ø—É–ª–æ–≤: 0</span>
          </div>
          <div id="pairPoolsContainer" class="pools-container"></div>
        </div>
        <div id="pairPoolsModalError" class="pool-modal-error" style="display: none;"></div>
      </div>
    </div>
  </div>

  <!-- Pool Detail Modal -->
  <div id="poolModal" class="pool-modal">
    <div class="pool-modal-content">
      <div class="pool-modal-header">
        <h2 id="poolModalTitle">–î–µ—Ç–∞–ª–∏ –ø—É–ª–∞</h2>
        <button class="pool-modal-close" id="closePoolModalBtn">&times;</button>
      </div>
      <div class="pool-modal-body">
        <div id="poolModalLoading" class="pool-modal-loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        <div id="poolModalContent" style="display: none;">
          <div class="pool-detail-info">
            <div class="pool-detail-name" id="poolDetailName"></div>
            <div class="pool-detail-address" id="poolDetailAddress"></div>
            <div class="pool-detail-meta" id="poolDetailMeta" style="margin-top: 12px; display: flex; gap: 12px; flex-wrap: wrap; align-items: center;"></div>
          </div>
          
          <div class="liquidity-distribution-section">
            <h3>Liquidity Distribution</h3>
            <div class="liquidity-distribution-header">
              <div class="liquidity-pair-info" id="liquidityPairInfo"></div>
            </div>
            <div class="liquidity-chart-container">
              <canvas id="liquidityChart"></canvas>
            </div>
            <div class="liquidity-legend">
              <div class="legend-item">
                <span class="legend-color" style="background: #00D9FF;"></span>
                <span id="legendTokenX"></span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background: #8B5CF6;"></span>
                <span id="legendTokenY"></span>
              </div>
            </div>
          </div>

          <div class="trading-volume-section">
            <div class="trading-volume-header">
              <h3>Trading Volume</h3>
              <div class="trading-volume-value" id="tradingVolumeValue">$0</div>
            </div>
            <div class="trading-volume-chart-container">
              <canvas id="tradingVolumeChart"></canvas>
            </div>
          </div>

          <div class="fees-section">
            <div class="section-header">
              <h3>Fees History</h3>
              <div class="section-value" id="feesValue">$0</div>
            </div>
            <div class="chart-container">
              <canvas id="feesChart"></canvas>
            </div>
          </div>

          <div class="tvl-section">
            <div class="section-header">
              <h3>TVL (Total Value Locked) History</h3>
              <div class="section-value" id="tvlValue">$0</div>
            </div>
            <div class="chart-container">
              <canvas id="tvlChart"></canvas>
            </div>
          </div>

          <div class="fee-tvl-section">
            <div class="section-header">
              <h3>Fee/TVL Ratio History</h3>
              <div class="section-value" id="feeTvlValue">0%</div>
            </div>
            <div class="chart-container">
              <canvas id="feeTvlChart"></canvas>
            </div>
          </div>

          <div class="volume-comparison-section">
            <div class="section-header">
              <h3>Volume Comparison (Different Periods)</h3>
            </div>
            <div class="chart-container">
              <canvas id="volumeComparisonChart"></canvas>
            </div>
          </div>

          <div class="reserves-section">
            <div class="section-header">
              <h3>Token Reserves Distribution</h3>
            </div>
            <div class="chart-container">
              <canvas id="reservesChart"></canvas>
            </div>
          </div>

          <div class="pool-detail-stats">
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Bin Step</div>
              <div class="pool-detail-stat-value" id="poolDetailBinStep"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Active Bin</div>
              <div class="pool-detail-stat-value" id="poolDetailActiveBin"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Current Price</div>
              <div class="pool-detail-stat-value" id="poolDetailPrice"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">TVL</div>
              <div class="pool-detail-stat-value" id="poolDetailTVL"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Volume 24h</div>
              <div class="pool-detail-stat-value" id="poolDetailVolume24h"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Volume 7d</div>
              <div class="pool-detail-stat-value" id="poolDetailVolume7d"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Fees 24h</div>
              <div class="pool-detail-stat-value" id="poolDetailFees24h"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Fees 7d</div>
              <div class="pool-detail-stat-value" id="poolDetailFees7d"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Base Fee</div>
              <div class="pool-detail-stat-value" id="poolDetailBaseFee"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Max Fee</div>
              <div class="pool-detail-stat-value" id="poolDetailMaxFee"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Protocol Fee</div>
              <div class="pool-detail-stat-value" id="poolDetailProtocolFee"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Dynamic Fee</div>
              <div class="pool-detail-stat-value" id="poolDetailDynamicFee"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Fee/TVL 24h</div>
              <div class="pool-detail-stat-value" id="poolDetailFeeTvl"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">APR</div>
              <div class="pool-detail-stat-value" id="poolDetailAPR"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">APY</div>
              <div class="pool-detail-stat-value" id="poolDetailAPY"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Reserve X</div>
              <div class="pool-detail-stat-value" id="poolDetailReserveX"></div>
            </div>
            <div class="pool-detail-stat">
              <div class="pool-detail-stat-label">Reserve Y</div>
              <div class="pool-detail-stat-value" id="poolDetailReserveY"></div>
            </div>
          </div>

          <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
          <div class="additional-metrics-section">
            <h3 style="color: white; margin-bottom: 20px;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h3>
            <div class="pool-detail-stats">
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Avg Trade Size 24h</div>
                <div class="pool-detail-stat-value" id="poolDetailAvgTradeSize"></div>
              </div>
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Volume/TVL Ratio</div>
                <div class="pool-detail-stat-value" id="poolDetailVolumeTvlRatio"></div>
              </div>
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Fees/Volume Ratio</div>
                <div class="pool-detail-stat-value" id="poolDetailFeesVolumeRatio"></div>
              </div>
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Reserve X Value</div>
                <div class="pool-detail-stat-value" id="poolDetailReserveXValue"></div>
              </div>
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Reserve Y Value</div>
                <div class="pool-detail-stat-value" id="poolDetailReserveYValue"></div>
              </div>
              <div class="pool-detail-stat">
                <div class="pool-detail-stat-label">Total Reserves Value</div>
                <div class="pool-detail-stat-value" id="poolDetailTotalReservesValue"></div>
              </div>
            </div>
          </div>

          <!-- Open Position Section -->
          <div class="open-position-section" style="margin-top: 30px; padding: 20px; background: rgba(15, 15, 30, 0.6); border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <h3 style="margin-top: 0; color: white; font-size: 1.3em; margin-bottom: 20px;">–û—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ –ø—É–ª–µ</h3>
            
            <!-- Pool Settings Section -->
            <div class="pool-settings-section" style="margin-bottom: 25px; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 10px; border: 1px solid rgba(102, 126, 234, 0.3);">
              <h4 style="color: white; font-size: 1.1em; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                <span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —ç—Ç–æ–≥–æ –ø—É–ª–∞
              </h4>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Stop Loss (%):</label>
                  <input type="number" id="poolStopLossPercent" step="0.1" min="-10" max="0" value="-2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Take Profit (%):</label>
                  <input type="number" id="poolTakeProfitPercent" step="0.1" min="0" max="100" value="2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">–ü—Ä–æ–≤–µ—Ä–∫–∞ Fee (%):</label>
                  <input type="number" id="poolFeeCheckPercent" step="0.1" min="0" max="100" value="50" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="poolMirrorSwapEnabled" checked style="width: auto; margin: 0;" />
                    Mirror Swap
                  </label>
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Hedge Amount (%):</label>
                  <input type="number" id="poolHedgeAmountPercent" step="1" min="0" max="100" value="50" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">Slippage (bps):</label>
                  <input type="number" id="poolSlippageBps" step="1" min="0" max="10000" value="100" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="poolAveragePriceCloseEnabled" checked style="width: auto; margin: 0;" />
                    –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–µ
                  </label>
                </div>
                <div class="form-group">
                  <label style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em;">–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç —Å—Ä–µ–¥–Ω–µ–π (%):</label>
                  <input type="number" id="poolAveragePriceDeviation" step="0.1" min="0" max="10" value="2" style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                </div>
              </div>
              <button type="button" id="savePoolSettingsBtn" style="margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 500;">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–ª–∞
              </button>
            </div>

            <form id="openPositionForm">
              <div class="form-group">
                <label for="positionStrategy" style="color: white;">–°—Ç—Ä–∞—Ç–µ–≥–∏—è:</label>
                <select id="positionStrategy" required style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;">
                  <option value="balance">Balance (50/50)</option>
                  <option value="imbalance">Imbalance (–Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–∞—è)</option>
                  <option value="oneSide">One Side (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="positionRangeInterval" style="color: white;">–î–∏–∞–ø–∞–∑–æ–Ω (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ bins —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã):</label>
                <input type="number" id="positionRangeInterval" value="10" min="1" max="100" required style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                <small style="color: rgba(255, 255, 255, 0.6); font-size: 0.85em;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ bins —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ bin</small>
                <div id="positionPriceRange" style="margin-top: 10px; padding: 10px; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 6px; display: none;">
                  <div style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; margin-bottom: 5px;"><strong>–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –ø–æ–∑–∏—Ü–∏–∏:</strong></div>
                  <div style="color: rgba(255, 255, 255, 0.8); font-size: 0.85em;">
                    <div>–ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞: <span id="positionLowerBound" style="color: #ff6b6b; font-weight: bold;">-</span></div>
                    <div>–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: <span id="positionCurrentPrice" style="color: #4ecdc4; font-weight: bold;">-</span></div>
                    <div>–í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞: <span id="positionUpperBound" style="color: #95e1d3; font-weight: bold;">-</span></div>
                    <div style="margin-top: 5px; color: rgba(255, 255, 255, 0.6); font-size: 0.8em;">–®–∏—Ä–∏–Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞: <span id="positionRangeWidth" style="color: rgba(255, 255, 255, 0.8);">-</span></div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="positionTokenXAmount" style="color: white;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Token X:</label>
                <input type="number" id="positionTokenXAmount" placeholder="0" step="0.000000001" required style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                <small id="positionTokenXHint" style="color: rgba(255, 255, 255, 0.6); font-size: 0.85em;">–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö —Ç–æ–∫–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –¥–ª—è 1 SOL)</small>
              </div>
              <div class="form-group">
                <label for="positionTokenYAmount" style="color: white;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Token Y:</label>
                <input type="number" id="positionTokenYAmount" placeholder="0" step="0.000000001" required style="width: 100%; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                <small id="positionTokenYHint" style="color: rgba(255, 255, 255, 0.6); font-size: 0.85em;">–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö —Ç–æ–∫–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 –¥–ª—è 100 USDC)</small>
              </div>
              
              <!-- –ö–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ–±–∞–ª–∞–Ω—Å–∞ -->
              <div class="form-group" style="margin-top: 15px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                  <input type="number" id="autoBalanceTotalAmount" placeholder="–û–±—â–∞—è —Å—É–º–º–∞ (USD)" step="0.01" min="0" style="flex: 1; padding: 10px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; background: rgba(15, 15, 30, 0.6); color: white;" />
                  <button type="button" id="autoBalanceBtn" style="padding: 10px 20px; background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; white-space: nowrap;">
                    ‚öñÔ∏è –ê–≤—Ç–æ–±–∞–ª–∞–Ω—Å
                  </button>
                </div>
                <small style="color: rgba(255, 255, 255, 0.6); font-size: 0.85em; display: block; margin-top: 5px;">
                  –í–≤–µ–¥–∏—Ç–µ –æ–±—â—É—é —Å—É–º–º—É –≤ USD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –±–∞–ª–∞–Ω—Å–∞ 50/50
                </small>
              </div>
              
              <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—É–º–º–∞—Ö –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ Balance -->
              <div id="positionAmountPreview" style="display: none; margin-top: 15px; padding: 15px; background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 8px;">
                <div style="color: #ffc107; font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                  <span>‚ö†Ô∏è</span>
                  <span>–í–Ω–∏–º–∞–Ω–∏–µ: –†–µ–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ Balance (50/50)</span>
                </div>
                <div style="color: rgba(255, 255, 255, 0.9); font-size: 0.9em; line-height: 1.6;">
                  <p style="margin: 5px 0;">–ü—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ <strong>Balance (50/50)</strong> —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ 50/50. –†–µ–∞–ª—å–Ω–æ —Å–ø–∏—Å–∞–Ω–Ω—ã–µ —Å—É–º–º—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤–∞–º–∏.</p>
                  <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255, 193, 7, 0.2);">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                      <div>
                        <span style="color: rgba(255, 255, 255, 0.7);">–£–∫–∞–∑–∞–Ω–æ Token X:</span>
                        <span id="previewInputX" style="color: white; font-weight: 600; margin-left: 5px;">-</span>
                      </div>
                      <div>
                        <span style="color: rgba(255, 255, 255, 0.7);">–î–ª—è –ø–æ–∑–∏—Ü–∏–∏ Token X:</span>
                        <span id="previewActualX" style="color: #ffc107; font-weight: 600; margin-left: 5px;">-</span>
                      </div>
                      <div>
                        <span style="color: rgba(255, 255, 255, 0.7);">–£–∫–∞–∑–∞–Ω–æ Token Y:</span>
                        <span id="previewInputY" style="color: white; font-weight: 600; margin-left: 5px;">-</span>
                      </div>
                      <div>
                        <span style="color: rgba(255, 255, 255, 0.7);">–î–ª—è –ø–æ–∑–∏—Ü–∏–∏ Token Y:</span>
                        <span id="previewActualY" style="color: #ffc107; font-weight: 600; margin-left: 5px;">-</span>
                      </div>
                    </div>
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255, 193, 7, 0.15);">
                      <p style="margin: 5px 0; color: rgba(255, 255, 255, 0.8); font-size: 0.85em;">
                        <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> –í Phantom –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:
                      </p>
                      <ul style="margin: 8px 0 0 0; padding-left: 20px; color: rgba(255, 255, 255, 0.7); font-size: 0.85em; line-height: 1.8;">
                        <li>–°—É–º–º—ã –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ (–ø–æ–∫–∞–∑–∞–Ω—ã –≤—ã—à–µ)</li>
                        <li>Rent –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–∑–∏—Ü–∏–∏ (~0.05 SOL, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏)</li>
                        <li>–ö–æ–º–∏—Å—Å–∏–∏ –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (~0.00001 SOL)</li>
                      </ul>
                      <p style="margin: 8px 0 0 0; color: rgba(255, 255, 255, 0.8); font-size: 0.85em;">
                        <strong>–ò—Ç–æ–≥–æ –≤ Phantom –±—É–¥–µ—Ç –±–æ–ª—å—à–µ SOL</strong>, —á–µ–º –ø–æ–∫–∞–∑–∞–Ω–æ –≤ preview, –∏–∑-–∑–∞ rent –∏ –∫–æ–º–∏—Å—Å–∏–π.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="form-actions" style="margin-top: 15px;">
                <button type="submit" id="openPositionBtn" class="save-btn" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;">
                  üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é
                </button>
              </div>
            </form>
            <div id="positionStatus" class="rpc-status" style="display: none; margin-top: 15px;">
              <div class="status-message"></div>
            </div>
            <div id="poolSettingsStatus" class="rpc-status" style="display: none; margin-top: 15px;">
              <div class="status-message"></div>
            </div>
          </div>
        </div>
        <div id="poolModalError" class="pool-modal-error" style="display: none;"></div>
      </div>
    </div>
  </div>

  <!-- Chart.js for graphs -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <!-- Solana Web3 (browser, for deserializing VersionedTransaction) -->
  <script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.min.js"></script>
  <script src="swap.js"></script>
  <script src="app.js"></script>
  <!-- Phantom Wallet SDK -->
  <script>
    // Check if Phantom is installed
    window.addEventListener('load', () => {
      if (window.solana && window.solana.isPhantom) {
        console.log('Phantom wallet detected');
      } else {
        console.log('Phantom wallet not detected');
      }
    });
  </script>
</body>
</html>

